var gt=Object.defineProperty;var dt=(t,e,n)=>e in t?gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>(dt(t,typeof e!="symbol"?e+"":e,n),n);import{D as ft,x as B,i as pt,c as J,o as et,a as u,b as bt,w as nt,t as D,h as w}from"./entry.bcb616db.js";const Mt=ft({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:e,attrs:n}){const s=B(!1);return pt(()=>{s.value=!0}),r=>{var m;if(s.value)return(m=e.default)==null?void 0:m.call(e);const o=e.fallback||e.placeholder;if(o)return o();const i=r.fallback||r.placeholder||"",a=r.fallbackTag||r.placeholderTag||"span";return J(a,n,i)}}}),Tt=""+globalThis.__publicAssetsURL("icons/calendar-backarrow.svg"),At=""+globalThis.__publicAssetsURL("icons/calendar-forwardarrow.svg"),X={Shafi:"shafi",Hanafi:"hanafi"};function wt(t){switch(t){case X.Shafi:return 1;case X.Hanafi:return 2;default:throw"Invalid Madhab"}}const Y={MiddleOfTheNight:"middleofthenight",SeventhOfTheNight:"seventhofthenight",TwilightAngle:"twilightangle",recommended(t){return t.latitude>48?Y.SeventhOfTheNight:Y.MiddleOfTheNight}};class ot{constructor(e,n){this.latitude=e,this.longitude=n}}const q={Nearest:"nearest",Up:"up",None:"none"};function E(t,e){const n=t.getFullYear(),s=t.getMonth(),r=t.getDate()+e,o=t.getHours(),i=t.getMinutes(),a=t.getSeconds();return new Date(n,s,r,o,i,a)}function N(t,e){return v(t,e*60)}function v(t,e){return new Date(t.getTime()+e*1e3)}function O(t,e=q.Nearest){const n=t.getUTCSeconds();let s=n>=30?60-n:-1*n;return e===q.Up?s=60-n:e===q.None&&(s=0),v(t,s)}function st(t){let e=0;const s=[31,c.isLeapYear(t.getFullYear())?29:28,31,30,31,30,31,31,30,31,30,31];for(let r=0;r<t.getMonth();r++)e+=s[r];return e+=t.getDate(),e}function rt(t){return t instanceof Date&&!isNaN(t.valueOf())}function g(t){return t*Math.PI/180}function R(t){return t*180/Math.PI}function it(t,e){return t-e*Math.floor(t/e)}function M(t){return it(t,360)}function St(t){return t>=-180&&t<=180?t:t-360*Math.round(t/360)}const Z={General:"general",Ahmer:"ahmer",Abyad:"abyad"},c={meanSolarLongitude(t){const e=t,n=280.4664567,s=36000.76983*e,r=3032e-7*Math.pow(e,2),o=n+s+r;return M(o)},meanLunarLongitude(t){const e=t,n=218.3165,s=481267.8813*e,r=n+s;return M(r)},ascendingLunarNodeLongitude(t){const e=t,n=125.04452,s=1934.136261*e,r=.0020708*Math.pow(e,2),o=Math.pow(e,3)/45e4,i=n-s+r+o;return M(i)},meanSolarAnomaly(t){const e=t,n=357.52911,s=35999.05029*e,r=1537e-7*Math.pow(e,2),o=n+s-r;return M(o)},solarEquationOfTheCenter(t,e){const n=t,s=g(e),r=(1.914602-.004817*n-14e-6*Math.pow(n,2))*Math.sin(s),o=(.019993-101e-6*n)*Math.sin(2*s),i=289e-6*Math.sin(3*s);return r+o+i},apparentSolarLongitude(t,e){const n=t,r=e+c.solarEquationOfTheCenter(n,c.meanSolarAnomaly(n)),o=125.04-1934.136*n,i=r-.00569-.00478*Math.sin(g(o));return M(i)},meanObliquityOfTheEcliptic(t){const e=t,n=23.439291,s=.013004167*e,r=1639e-10*Math.pow(e,2),o=5036e-10*Math.pow(e,3);return n-s-r+o},apparentObliquityOfTheEcliptic(t,e){const n=t,s=e,r=125.04-1934.136*n;return s+.00256*Math.cos(g(r))},meanSiderealTime(t){const e=t,n=e*36525+2451545,s=280.46061837,r=360.98564736629*(n-2451545),o=387933e-9*Math.pow(e,2),i=Math.pow(e,3)/3871e4,a=s+r+o-i;return M(a)},nutationInLongitude(t,e,n,s){const r=e,o=n,i=s,a=-17.2/3600*Math.sin(g(i)),m=1.32/3600*Math.sin(2*g(r)),h=.23/3600*Math.sin(2*g(o)),l=.21/3600*Math.sin(2*g(i));return a-m-h+l},nutationInObliquity(t,e,n,s){const r=e,o=n,i=s,a=9.2/3600*Math.cos(g(i)),m=.57/3600*Math.cos(2*g(r)),h=.1/3600*Math.cos(2*g(o)),l=.09/3600*Math.cos(2*g(i));return a+m+h-l},altitudeOfCelestialBody(t,e,n){const s=t,r=e,o=n,i=Math.sin(g(s))*Math.sin(g(r)),a=Math.cos(g(s))*Math.cos(g(r))*Math.cos(g(o));return R(Math.asin(i+a))},approximateTransit(t,e,n){const s=t,r=e,o=n,i=s*-1;return it((o+i-r)/360,1)},correctedTransit(t,e,n,s,r,o){const i=t,a=e,m=n,h=s,l=r,f=o,p=a*-1,S=M(m+360.985647*i),y=M(c.interpolateAngles(h,l,f,i)),I=St(S-p-y)/-360;return(i+I)*24},correctedHourAngle(t,e,n,s,r,o,i,a,m,h,l){const f=t,p=e,S=r,y=o,F=i,I=a,_=m,k=h,V=l,K=n.longitude*-1,Q=Math.sin(g(p))-Math.sin(g(n.latitude))*Math.sin(g(_)),z=Math.cos(g(n.latitude))*Math.cos(g(_)),U=R(Math.acos(Q/z)),x=s?f+U/360:f-U/360,T=M(S+360.985647*x),C=M(c.interpolateAngles(y,F,I,x)),P=c.interpolate(_,k,V,x),tt=T-K-C,lt=c.altitudeOfCelestialBody(n.latitude,P,tt)-p,ct=360*Math.cos(g(P))*Math.cos(g(n.latitude))*Math.sin(g(tt)),mt=lt/ct;return(x+mt)*24},interpolate(t,e,n,s){const r=t-e,o=n-t,i=o-r;return t+s/2*(r+o+s*i)},interpolateAngles(t,e,n,s){const r=M(t-e),o=M(n-t),i=o-r;return t+s/2*(r+o+s*i)},julianDay(t,e,n,s=0){const r=Math.trunc,o=r(e>2?t:t-1),i=r(e>2?e:e+12),a=n+s/24,m=r(o/100),h=r(2-m+r(m/4)),l=r(365.25*(o+4716)),f=r(30.6001*(i+1));return l+f+a+h-1524.5},julianCentury(t){return(t-2451545)/36525},isLeapYear(t){return!(t%4!==0||t%100===0&&t%400!==0)},seasonAdjustedMorningTwilight(t,e,n,s){const r=75+.5209090909090909*Math.abs(t),o=75+19.44/55*Math.abs(t),i=75+32.74/55*Math.abs(t),a=75+48.1/55*Math.abs(t),m=function(){const h=c.daysSinceSolstice(e,n,t);return h<91?r+(o-r)/91*h:h<137?o+(i-o)/46*(h-91):h<183?i+(a-i)/46*(h-137):h<229?a+(i-a)/46*(h-183):h<275?i+(o-i)/46*(h-229):o+(r-o)/91*(h-275)}();return v(s,Math.round(m*-60))},seasonAdjustedEveningTwilight(t,e,n,s,r){let o,i,a,m;r===Z.Ahmer?(o=62+17.4/55*Math.abs(t),i=62-7.16/55*Math.abs(t),a=62+5.12/55*Math.abs(t),m=62+19.44/55*Math.abs(t)):r===Z.Abyad?(o=75+25.6/55*Math.abs(t),i=75+7.16/55*Math.abs(t),a=75+36.84/55*Math.abs(t),m=75+81.84/55*Math.abs(t)):(o=75+25.6/55*Math.abs(t),i=75+2.05/55*Math.abs(t),a=75-9.21/55*Math.abs(t),m=75+6.14/55*Math.abs(t));const h=function(){const l=c.daysSinceSolstice(e,n,t);return l<91?o+(i-o)/91*l:l<137?i+(a-i)/46*(l-91):l<183?a+(m-a)/46*(l-137):l<229?m+(a-m)/46*(l-183):l<275?a+(i-a)/46*(l-229):i+(o-i)/91*(l-275)}();return v(s,Math.round(h*60))},daysSinceSolstice(t,e,n){let s=0;const r=10,o=c.isLeapYear(e)?173:172,i=c.isLeapYear(e)?366:365;return n>=0?(s=t+r,s>=i&&(s=s-i)):(s=t-o,s<0&&(s=s+i)),s}};class G{constructor(e){const n=c.julianCentury(e),s=c.meanSolarLongitude(n),r=c.meanLunarLongitude(n),o=c.ascendingLunarNodeLongitude(n),i=g(c.apparentSolarLongitude(n,s)),a=c.meanSiderealTime(n),m=c.nutationInLongitude(n,s,r,o),h=c.nutationInObliquity(n,s,r,o),l=c.meanObliquityOfTheEcliptic(n),f=g(c.apparentObliquityOfTheEcliptic(n,l));this.declination=R(Math.asin(Math.sin(f)*Math.sin(i))),this.rightAscension=M(R(Math.atan2(Math.cos(f)*Math.sin(i),Math.cos(i)))),this.apparentSiderealTime=a+m*3600*Math.cos(g(l+h))/3600}}class L{constructor(e,n){const s=c.julianDay(e.getFullYear(),e.getMonth()+1,e.getDate(),0);this.observer=n,this.solar=new G(s),this.prevSolar=new G(s-1),this.nextSolar=new G(s+1);const r=c.approximateTransit(n.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension),o=-50/60;this.approxTransit=r,this.transit=c.correctedTransit(r,n.longitude,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension),this.sunrise=c.correctedHourAngle(r,o,n,!1,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination),this.sunset=c.correctedHourAngle(r,o,n,!0,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}hourAngle(e,n){return c.correctedHourAngle(this.approxTransit,e,this.observer,n,this.solar.apparentSiderealTime,this.solar.rightAscension,this.prevSolar.rightAscension,this.nextSolar.rightAscension,this.solar.declination,this.prevSolar.declination,this.nextSolar.declination)}afternoon(e){const n=Math.abs(this.observer.latitude-this.solar.declination),s=e+Math.tan(g(n)),r=R(Math.atan(1/s));return this.hourAngle(r,!0)}}const H={AqrabBalad:"AqrabBalad",AqrabYaum:"AqrabYaum",Unresolved:"Unresolved"},at=.5,_t=65,$=t=>!isNaN(t.sunrise)&&!isNaN(t.sunset),ht=(t,e,n=1,s=1)=>{if(n>Math.ceil(365/2))return null;const r=new Date(e.getTime());r.setDate(r.getDate()+s*n);const o=E(r,1),i=new L(r,t),a=new L(o,t);return!$(i)||!$(a)?ht(t,e,n+(s>0?0:1),-s):{date:e,tomorrow:o,coordinates:t,solarTime:i,tomorrowSolarTime:a}},ut=(t,e,n)=>{const s=new L(e,{...t,latitude:n}),r=E(e,1),o=new L(r,{...t,latitude:n});return!$(s)||!$(o)?Math.abs(n)>=_t?ut(t,e,n-Math.sign(n)*at):null:{date:e,tomorrow:r,coordinates:new ot(n,t.longitude),solarTime:s,tomorrowSolarTime:o}},jt=(t,e,n)=>{const s={date:e,tomorrow:E(e,1),coordinates:n,solarTime:new L(e,n),tomorrowSolarTime:new L(E(e,1),n)};switch(t){case H.AqrabYaum:return ht(n,e)||s;case H.AqrabBalad:{const{latitude:r}=n;return ut(n,e,r-Math.sign(r)*at)||s}default:return s}};class b{constructor(e,n=0,s=0,r=0,o=0){j(this,"madhab",X.Shafi);j(this,"highLatitudeRule",Y.MiddleOfTheNight);j(this,"adjustments",{fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0});j(this,"methodAdjustments",{fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0});j(this,"polarCircleResolution",H.Unresolved);j(this,"rounding",q.Nearest);j(this,"shafaq",Z.General);this.method=e,this.fajrAngle=n,this.ishaAngle=s,this.ishaInterval=r,this.maghribAngle=o,this.method===null&&(this.method="Other")}nightPortions(){switch(this.highLatitudeRule){case Y.MiddleOfTheNight:return{fajr:1/2,isha:1/2};case Y.SeventhOfTheNight:return{fajr:1/7,isha:1/7};case Y.TwilightAngle:return{fajr:this.fajrAngle/60,isha:this.ishaAngle/60};default:throw`Invalid high latitude rule found when attempting to compute night portions: ${this.highLatitudeRule}`}}}const Dt={MuslimWorldLeague(){const t=new b("MuslimWorldLeague",18,17);return t.methodAdjustments.dhuhr=1,t},Egyptian(){const t=new b("Egyptian",19.5,17.5);return t.methodAdjustments.dhuhr=1,t},Karachi(){const t=new b("Karachi",18,18);return t.methodAdjustments.dhuhr=1,t},UmmAlQura(){return new b("UmmAlQura",18.5,0,90)},Dubai(){const t=new b("Dubai",18.2,18.2);return t.methodAdjustments={...t.methodAdjustments,sunrise:-3,dhuhr:3,asr:3,maghrib:3},t},MoonsightingCommittee(){const t=new b("MoonsightingCommittee",18,18);return t.methodAdjustments={...t.methodAdjustments,dhuhr:5,maghrib:3},t},NorthAmerica(){const t=new b("NorthAmerica",15,15);return t.methodAdjustments.dhuhr=1,t},Kuwait(){return new b("Kuwait",18,17.5)},Qatar(){return new b("Qatar",18,0,90)},Singapore(){const t=new b("Singapore",20,18);return t.methodAdjustments.dhuhr=1,t.rounding=q.Up,t},Tehran(){return new b("Tehran",17.7,14,0,4.5)},Turkey(){const t=new b("Turkey",18,17);return t.methodAdjustments={...t.methodAdjustments,sunrise:-7,dhuhr:5,asr:4,maghrib:7},t},Other(){return new b("Other",0,0)}},d={Fajr:"fajr",Sunrise:"sunrise",Dhuhr:"dhuhr",Asr:"asr",Maghrib:"maghrib",Isha:"isha",None:"none"};class A{constructor(e){return this.hours=Math.floor(e),this.minutes=Math.floor((e-this.hours)*60),this.seconds=Math.floor((e-(this.hours+this.minutes/60))*60*60),this}utcDate(e,n,s){return new Date(Date.UTC(e,n,s,this.hours,this.minutes,this.seconds))}}class W{constructor(e,n,s){this.coordinates=e,this.date=n,this.calculationParameters=s;let r=new L(n,e),o,i,a,m,h,l,f,p;a=new A(r.transit).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),i=new A(r.sunrise).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),h=new A(r.sunset).utcDate(n.getFullYear(),n.getMonth(),n.getDate());const S=E(n,1);let y=new L(S,e);const F=s.polarCircleResolution;if((!rt(i)||!rt(h)||isNaN(y.sunrise))&&F!==H.Unresolved){const T=jt(F,n,e);r=T.solarTime,y=T.tomorrowSolarTime;const C=[n.getFullYear(),n.getMonth(),n.getDate()];a=new A(r.transit).utcDate(...C),i=new A(r.sunrise).utcDate(...C),h=new A(r.sunset).utcDate(...C)}m=new A(r.afternoon(wt(s.madhab))).utcDate(n.getFullYear(),n.getMonth(),n.getDate());const I=new A(y.sunrise).utcDate(S.getFullYear(),S.getMonth(),S.getDate()),_=(Number(I)-Number(h))/1e3;o=new A(r.hourAngle(-1*s.fajrAngle,!1)).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),s.method==="MoonsightingCommittee"&&e.latitude>=55&&(p=_/7,o=v(i,-p));const k=function(){return s.method==="MoonsightingCommittee"?c.seasonAdjustedMorningTwilight(e.latitude,st(n),n.getFullYear(),i):(p=s.nightPortions().fajr*_,v(i,-p))}();if((isNaN(o.getTime())||k>o)&&(o=k),s.ishaInterval>0)f=N(h,s.ishaInterval);else{f=new A(r.hourAngle(-1*s.ishaAngle,!0)).utcDate(n.getFullYear(),n.getMonth(),n.getDate()),s.method==="MoonsightingCommittee"&&e.latitude>=55&&(p=_/7,f=v(h,p));const T=function(){return s.method==="MoonsightingCommittee"?c.seasonAdjustedEveningTwilight(e.latitude,st(n),n.getFullYear(),h,s.shafaq):(p=s.nightPortions().isha*_,v(h,p))}();(isNaN(f.getTime())||T<f)&&(f=T)}if(l=h,s.maghribAngle){const T=new A(r.hourAngle(-1*s.maghribAngle,!0)).utcDate(n.getFullYear(),n.getMonth(),n.getDate());h<T&&f>T&&(l=T)}const V=(s.adjustments.fajr||0)+(s.methodAdjustments.fajr||0),K=(s.adjustments.sunrise||0)+(s.methodAdjustments.sunrise||0),Q=(s.adjustments.dhuhr||0)+(s.methodAdjustments.dhuhr||0),z=(s.adjustments.asr||0)+(s.methodAdjustments.asr||0),U=(s.adjustments.maghrib||0)+(s.methodAdjustments.maghrib||0),x=(s.adjustments.isha||0)+(s.methodAdjustments.isha||0);this.fajr=O(N(o,V),s.rounding),this.sunrise=O(N(i,K),s.rounding),this.dhuhr=O(N(a,Q),s.rounding),this.asr=O(N(m,z),s.rounding),this.sunset=O(h,s.rounding),this.maghrib=O(N(l,U),s.rounding),this.isha=O(N(f,x),s.rounding)}timeForPrayer(e){return e===d.Fajr?this.fajr:e===d.Sunrise?this.sunrise:e===d.Dhuhr?this.dhuhr:e===d.Asr?this.asr:e===d.Maghrib?this.maghrib:e===d.Isha?this.isha:null}currentPrayer(e=new Date){return e>=this.isha?d.Isha:e>=this.maghrib?d.Maghrib:e>=this.asr?d.Asr:e>=this.dhuhr?d.Dhuhr:e>=this.sunrise?d.Sunrise:e>=this.fajr?d.Fajr:d.None}nextPrayer(e=new Date){return e>=this.isha?d.None:e>=this.maghrib?d.Isha:e>=this.asr?d.Maghrib:e>=this.dhuhr?d.Asr:e>=this.sunrise?d.Dhuhr:e>=this.fajr?d.Sunrise:d.Fajr}}const vt={class:"card border-2 border-primary p-6 shadow-xl"},Lt=u("div",{class:"text-center text-xl font-semibold mb-6"}," Daily Salat Timings ",-1),yt=u("img",{src:Tt,class:"w-6 sm:w-8"},null,-1),Nt=u("span",{class:"text-xs sm:text-md"}," Previous Day",-1),Ot=[yt,Nt],xt=u("span",{class:"text-xs sm:text-md"}," Following Day",-1),Ct=u("img",{src:At,class:"w-6 sm:w-8"},null,-1),Yt=[xt,Ct],Ft={class:"card-body p-4"},It={class:"test font-bold text-lg text-center p-2"},qt=u("span",{class:"loading loading-spinner text-primary mx-auto my-auto pt-64 w-12"},null,-1),Et={class:"table table-sm text-center"},Rt=u("thead",null,[u("tr",null,[u("th",null,"Prayer"),u("th",null,"Time")])],-1),kt=u("td",{class:"font-semibold"},"Fajr",-1),Ut={class:"italic"},Bt=u("td",null,"sunrise",-1),Ht=u("td",{class:"font-semibold"},"Dhuhr",-1),$t=u("td",{class:"font-semibold"},"Asr",-1),Vt={class:"italic"},Kt=u("td",null,"sunset",-1),Qt=u("td",{class:"font-semibold"},"Maghrib",-1),zt=u("td",{class:"font-semibold"},"Isha",-1),Gt={__name:"calendar",setup(t){const e=new ot(12.510052,-70.009354),n=Dt.MoonsightingCommittee(),s=B(new Date),r=B(new W(e,s.value,n)),o=B(0);console.log(r);function i(){s.value.setDate(s.value.getDate()+1),console.log(s.value,"date"),r.value=new W(e,s.value,n),o.value++}function a(){s.value.setDate(s.value.getDate()-1),console.log(s.value,"date"),r.value=new W(e,s.value,n),o.value++}return(m,h)=>{const l=Mt;return et(),J("div",vt,[Lt,u("div",{class:"card-actions mx-auto"},[u("div",{class:"join join-vertical sm:join-horizontal"},[u("button",{onClick:a,class:"btn join-item bg-primary mb-2 sm:mr-2 sm:mb-2"},Ot),u("button",{onClick:i,class:"btn join-item bg-primary mt-2 sm:ml-2 sm:mt-0"},Yt)])]),u("div",Ft,[bt(l,null,{fallback:nt(()=>[qt]),default:nt(()=>[u("div",It,D(w(s).toDateString()),1),u("table",Et,[Rt,u("tbody",null,[u("tr",null,[kt,(et(),J("td",{key:w(r).fajr},D(w(r).fajr.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1))]),u("tr",Ut,[Bt,u("td",null,D(w(r).sunrise.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)]),u("tr",null,[Ht,u("td",null,D(w(r).dhuhr.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)]),u("tr",null,[$t,u("td",null,D(w(r).asr.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)]),u("tr",Vt,[Kt,u("td",null,D(w(r).sunset.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)]),u("tr",null,[Qt,u("td",null,D(w(r).maghrib.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)]),u("tr",null,[zt,u("td",null,D(w(r).isha.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).replace(/\b0(\d)/,"$1")),1)])])])]),_:1})])])}}},Zt=Gt;export{Zt as _};
